(this.webpackJsonpweather_app=this.webpackJsonpweather_app||[]).push([[0],{11:function(t,e,c){},12:function(t,e,c){},15:function(t,e,c){"use strict";c.r(e);var n=c(1),r=c.n(n),s=c(6),a=c.n(s),i=(c(11),c(2)),o=(c(12),c(4)),l=c.n(o),j=c(0);var u=function(t){var e=t.setLocation,c=t.setResult,r=t.result,s=t.setError;l.a.setApiKey("AIzaSyDp4os33WF6-4d-xFVyL0HsUUHN7dOml_w");var a=Object(n.useState)(""),o=Object(i.a)(a,2),u=o[0],d=o[1];function b(t){l.a.fromAddress(t).then((function(t){var c=t.results[0].geometry.location.lat,n=t.results[0].geometry.location.lng;e({lat:c,lng:n}),s(!1)})).catch((function(t){console.log(t),s(!0)}))}return Object(n.useEffect)((function(){b(r)}),[r]),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),b(u),d(""),c(u)},children:[Object(j.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",value:u,onChange:function(t){d(t.target.value)}}),Object(j.jsx)("button",{type:"submit",disabled:""===u,children:">"})]})};var d=function(){return Object(j.jsx)("div",{className:"loading",children:Object(j.jsx)("div",{className:"animation"})})},b=function(t){return t[0].toUpperCase()+t.slice(1)},h=function(t){var e=new Date(1e3*t);return b(e.toLocaleString("ru",{weekday:"long"}))},O=function(t){return t.toFixed()},x=function(t){return"http://openweathermap.org/img/wn/".concat(t,".png")};var f=function(t){var e=t.location,c=t.result,r=t.error,s=Object(n.useState)([]),a=Object(i.a)(s,2),o=a[0],l=a[1],u=Object(n.useState)(!1),f=Object(i.a)(u,2),m=f[0],p=f[1],g=e.lat,v=e.lng,y=o.daily,w=o.current;return Object(n.useEffect)((function(){p(!0),fetch(function(t,e){return"https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t,"&lon=").concat(e,"&exclude=hourly,minutely&units=metric&lang=ru&appid=").concat("bb96c7f9ac6f57dc00333727c5407547")}(g,v)).then((function(t){return t.json()})).then((function(t){l(t)})).catch((function(t){console.log(t)})).finally((function(){p(!1)}))}),[g,v]),Object(j.jsx)(j.Fragment,{children:0===o.length?Object(j.jsx)(d,{}):Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("h1",{className:"".concat(r?"error":""),children:r?"\u041e\u0448\u0438\u0431\u043a\u0430... \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043e\u0440\u043e\u0434":b(c)}),m?Object(j.jsx)(d,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"current",children:[Object(j.jsxs)("h2",{children:[O(w.temp)," \xb0\u200bC"]}),Object(j.jsx)("img",{className:"image",src:x(w.weather[0].icon),alt:"\u043f\u043e\u0433\u043e\u0434\u0430"}),Object(j.jsx)("h3",{children:b(w.weather[0].description)})]}),Object(j.jsx)("table",{children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"field",children:"\u0414\u0435\u043d\u044c \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(j.jsx)("th",{}),Object(j.jsx)("th",{children:"\u041d\u0438\u0437\u043a\u0430\u044f"}),Object(j.jsx)("th",{children:"\u0412\u044b\u0441\u043e\u043a\u0430\u044f"}),Object(j.jsx)("th",{children:"\u041e\u0412 %"}),Object(j.jsx)("th",{children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0412\u0435\u0442\u0440\u0430 \u043a\u043c/\u0447"})]}),y.map((function(t,e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{className:"day",children:h(t.dt)}),Object(j.jsx)("td",{children:Object(j.jsx)("img",{src:x(t.weather[0].icon),alt:"\u043f\u043e\u0433\u043e\u0434\u0430"})}),Object(j.jsxs)("td",{children:[O(t.temp.min)," \xb0"]}),Object(j.jsxs)("td",{children:[O(t.temp.max)," \xb0"]}),Object(j.jsx)("td",{children:t.humidity}),Object(j.jsx)("td",{children:O(t.wind_speed)})]},e)}))]})})]})]})})};function m(){var t=Object(n.useState)(null),e=Object(i.a)(t,2),c=e[0],r=e[1],s=Object(n.useState)("\u0411\u043e\u0441\u0442\u043e\u043d"),a=Object(i.a)(s,2),o=a[0],l=a[1],d=Object(n.useState)(!1),b=Object(i.a)(d,2),h=b[0],O=b[1];return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(u,{setLocation:r,setResult:l,setError:O,result:o}),c&&Object(j.jsx)(f,{location:c,result:o,error:h})]})}var p=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,16)).then((function(e){var c=e.getCLS,n=e.getFID,r=e.getFCP,s=e.getLCP,a=e.getTTFB;c(t),n(t),r(t),s(t),a(t)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root")),p()}},[[15,1,2]]]);
//# sourceMappingURL=main.372f837c.chunk.js.map